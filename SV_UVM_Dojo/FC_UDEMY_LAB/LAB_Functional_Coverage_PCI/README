***********************************************************
LAB :: Overview
***********************************************************
DESIGN UNDER TEST (DUT) : A simple system with a PCI Master and Target
	conducting a PCI Read and Write Transaction. 

LAB Objectives: 
	- Learn how to cover various functional coverage features of Systemverilog 

***********************************************************
LAB :: Database (download from http://defineview.com/udemy_lab_files
       On the website scroll down. The files are under the heading "UDEMY LAB: PCI - FUNCTIONAL COVERAGE"
***********************************************************
FILES:
	pci_master.v :: A (very) simple PCI Master module driving only a simple Read cycle. 
	pci_target.v :: A (very) simple PCI Target module responding to a simple Read Cycle. 
	test_pci_protocol.sv :: Testbench and the file in which you will add covergroups and coverpoints 
	test_pci_protocol.log :: Simulation log
	run_questa :: Compile and Simulate script for Mentor's Questa simulator.

***********************************************************
LAB :: What you will do... 
***********************************************************
	Code covergroup, coverpoint and bins to cover functionality as described in the file test_pci_protocol.sv
        In the file test_pci_protocol, you'll see the following. Code your covergroups where you see //CODE HERE:

  covergroup pci_cycles @(posedge clk);
  //CODE HERE: Cover READ and WRITE cycles
  endgroup
  
  covergroup ByteEnables @(posedge clk);
  //CODE HERE: Cover C_BE_
  endgroup
  
  covergroup pciTrans @(posedge clk);
  //CODE HERE: Cover all 4 transitions: READ=>READ, READ=>WRITE, WRITE=>READ, WRITE=>WRITE
  endgroup
  
  covergroup Enables @(posedge clk);
  //CODE HERE: Cover all enables: TRDY_, DEVSEL_, FRAME_, IRDY_, C_BE_
  endgroup
  
  covergroup ad @(posedge clk);
    //CODE HERE: Cover AD into 4 bins
  endgroup
  
  covergroup irtr_cross @(posedge clk);
    //CODE HERE: cross IRDY_ and TRDY_
  endgroup


***********************************************************
LAB :: How To compile/simulate
***********************************************************

Steps to take:
	1) Open test_pci_protocol.sv
	2) Search for "CODE HERE"
	3) Add the required covergroup, coverpoint and bins.
        4) compile/simulate all required files as per your simulator. 
           A run_questa file is provided for those who use Mentor's Questa simulator.
	6) Compare your simulation log with test_pci_protocl.log file.

Focus only on the bottom of the simulation log and see that your solution matches this log. Here's the log at the end of the simulation log file. Your coverage report should match this log file report.


	Coverage for pci_cycles_inst is 100.000000

 	Coverage for ByteEnables_inst is 31.250000

 	Coverage for pciTrans_inst is 100.000000

 	Coverage for Enables_inst is 100.000000

 	Coverage for ad_inst is 50.000000

 	Coverage for irtr_cross_inst is 100.000000
